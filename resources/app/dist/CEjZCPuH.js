import{d as _,r as p,u as S,o as $,t as f,L as m,A as l,z as d,B as b,y,N as w,ab as v,aW as C,a2 as D,i as I,x as M,aB as T,ap as A}from"./0fV2q4Ox.js";import{x as B}from"./D0r5xylr.js";const q=_({__name:"actionMenuItem",props:{label:{type:String,required:!0,default:""},icon:{type:String},action:{type:String}},setup(c){const t=c,n=p(t.label),i=p(null),o=S();let e,a=null;const u={copy:()=>{if(!e)throw new Error("No action menu label found");B(e),a&&clearTimeout(a),a=setTimeout(()=>{n.value="Copied!",a=setTimeout(()=>n.value=t.label,1200)},50)},lookup:()=>{o.push(`/lookup?productSerial=${e}&tab=productQuery&id=${Date.now()}`)},debugGateway:()=>{o.push(`/lookup?productSerial=${e}&tab=gatewayDebug&id=${Date.now()}`)},debugInverter:()=>{o.push(`/lookup?productSerial=${e}&tab=inverterDebug&id=${Date.now()}`)}};function k(){t.action&&(u[t.action]?u[t.action]():console.error(`Action ${t.action} not found`))}return $(()=>{var r,s;e=(s=(r=i.value)==null?void 0:r.$el.closest(".action-menu"))==null?void 0:s.getAttribute("data-label")}),(r,s)=>{const g=v,h=C,x=D;return f(),m(x,{button:!0,lines:"none",onClick:k,ref_key:"itemRef",ref:i},{default:l(()=>[d(g,{slot:"start",icon:c.icon},null,8,["icon"]),d(h,null,{default:l(()=>[b(y(w(n)),1)]),_:1})]),_:1},512)}}}),N=["data-label"],L=_({__name:"actionMenu",props:{label:{type:String,required:!0,default:""}},setup(c){const t=c,n=p(null);function i(){var e;const o=(e=n.value)==null?void 0:e.querySelector("ion-item[default]");o==null||o.click()}return(o,e)=>{const a=A,u=I("VMenu");return f(),m(u,{delay:{show:0,hide:200},style:{display:"inline-block"}},{popper:l(()=>[M("div",{class:"action-menu","data-label":t.label,ref_key:"menuRef",ref:n},[T(o.$slots,"default")],8,N)]),default:l(()=>[d(a,{class:"link action-menu-label",onClick:i},{default:l(()=>[b(y(t.label),1)]),_:1})]),_:3})}}});export{q as _,L as a};
